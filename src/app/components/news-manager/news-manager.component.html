<div class="news-manager-container">

    <div class="news-form">
        <h2>{{ selectedNews ? 'Haberi Güncelle' : 'Yeni Haber Ekle' }}</h2>
        <form (ngSubmit)="onSubmit()" #newsForm="ngForm">
            <input type="text" name="title" [(ngModel)]="news.title" placeholder="Haber Başlığı" />
            <textarea name="content" [(ngModel)]="news.content" placeholder="Haber İçeriği"></textarea>
            <input type="text" name="imageUrl" [(ngModel)]="news.imageUrl" placeholder="Görsel URL" />
            <input type="datetime-local" name="publishDate" [(ngModel)]="news.publishDate" />

            <select name="categoryId" [(ngModel)]="news.categoryId">
                <option value="" disabled selected>Kategori Seçiniz</option>
                <option *ngFor="let c of categories" [value]="c.id">{{ c.name }}</option>
            </select>

            <select name="authorId" [(ngModel)]="news.authorId">
                <option value="" disabled selected>Yazar Seçiniz</option>
                <option *ngFor="let a of authors" [value]="a.id">{{ a.name }}</option>
            </select>

            <label>
                <input type="checkbox" name="isActive" [(ngModel)]="news.isActive" />
                Yayında mı?
            </label>

            <button type="submit" [ngClass]="selectedNews ? 'update' : 'add'">
                {{ selectedNews ? 'Güncelle' : 'Ekle' }}
            </button>
        </form>
    </div>

    <input type="text" class="search-input" placeholder="🔍 Haber Ara" />

    <div class="news-list">
        <div *ngFor="let item of newsList" class="news-item">
            <div class="details">
                <strong>{{ item.title }}</strong> — {{ item.publishDate | date:'short' }}
            </div>
            <div class="actions">
                <button (click)="editNews(item)">Düzenle</button>
                <button (click)="deleteNews(item)">Sil</button>
                <button (click)="cancel()">Vazgeç</button>
            </div>
        </div>
    </div>

</div>